(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{513:function(a,s,t){"use strict";t.r(s);var e=t(6),n=function(a){a.options.__data__block__={mermaid_1a96284d:"graph TD\nA(/ ) --\x3e B(/root)\nA --\x3e C(/bin)\nA --\x3e D(/boot)\nA --\x3e E(/dev)\nA --\x3e F(/etc)\nA --\x3e G(/home)\nA --\x3e H(/var)\nA --\x3e J(/lib)\nA --\x3e K(/usr)\nA --\x3e L(/media)\nA --\x3e U(/...)\nB --\x3e P(/root/Desktop)\nB --\x3e O(/root/Maildr)\nC --\x3e I(/root/...)\n"}},v=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h3",{attrs:{id:"linux-主要-目录结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-主要-目录结构"}},[a._v("#")]),a._v(" Linux(主要)目录结构")]),a._v(" "),t("Mermaid",{attrs:{id:"mermaid_1a96284d",graph:a.$dataBlock.mermaid_1a96284d}}),t("ul",[t("li",[t("code",[a._v("bin")]),a._v(" （/usr/bin、/usr/local/bin）Binary的缩写，这个目录存放着最经常用的命令")]),a._v(" "),t("li",[t("code",[a._v("sbin")]),a._v(" (/usr/sbin、/usr/local/sbin)  s是Super User的意思，这里存放的是系统管理员使用的系统管理程序。")]),a._v(" "),t("li",[t("code",[a._v("home")]),a._v(" 存放普通用户的主目录，在linux中每个用户都有一个自己的目录，一般该目录的命名是以用户的账号命名的")]),a._v(" "),t("li",[t("code",[a._v("root")]),a._v("该目录为系统管理员，也称作超级权限者的用户主目录")]),a._v(" "),t("li",[t("code",[a._v("lib")]),a._v(" 系统开机所需要最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库")]),a._v(" "),t("li",[t("code",[a._v("lost")]),a._v("、"),t("code",[a._v("found")]),a._v(" 这个目录一般是空的，当系统非法关机时，这里就存放了一些文件")]),a._v(" "),t("li",[t("code",[a._v("etc")]),a._v("所有的系统管理所需要的配置文件和子目录")]),a._v(" "),t("li",[t("code",[a._v("usr")]),a._v("这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows下的program  files目录")]),a._v(" "),t("li",[t("code",[a._v("boot")]),a._v(" 存放的是启动linux时使用的一些核心文件，包括一些连接文件以及镜像文件")]),a._v(" "),t("li",[t("code",[a._v("proc")]),a._v(" 这是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息")]),a._v(" "),t("li",[t("code",[a._v("srv")]),a._v(" service的缩写，该目录存放一些服务启动后需要提取的数据")]),a._v(" "),t("li",[t("code",[a._v("sys")]),a._v(" 该目录安装了linux2.6内核出现的一个文件系统sysfs")]),a._v(" "),t("li",[t("code",[a._v("dev")]),a._v(" 类似于windows的设备管理器，把所有的硬件用文件的形式存储")]),a._v(" "),t("li",[t("code",[a._v("media")]),a._v(" linux系统会自动识别一些外部设备，识别过后，linux会把识别的设备挂载到这个目录下")]),a._v(" "),t("li",[t("code",[a._v("mnt")]),a._v(" 系统提供改目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt/上，然后进入该目录就可以查看里面的内容了")]),a._v(" "),t("li",[t("code",[a._v("opt")]),a._v(" 这是给主机额外安装软件所摆放的目录。如安装ORACLE就可放到该目录下")]),a._v(" "),t("li",[t("code",[a._v("/usr/local")]),a._v(" 这是另一个给主机额外安装软件所安装的目录。一般通过编译源码的方式安装程序。")]),a._v(" "),t("li",[t("code",[a._v("var")]),a._v(" 这个目录中存放着不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件")]),a._v(" "),t("li",[t("code",[a._v("selinux")]),a._v(" SELinux是一种安全系统，它能控制程序只能访问特定的文件")])]),a._v(" "),t("h3",{attrs:{id:"vi和vim的基本使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vi和vim的基本使用"}},[a._v("#")]),a._v(" vi和vim的基本使用")]),a._v(" "),t("p",[a._v("所有的linux系统都会内置vi文本编辑器，而vim是vi的增强版，包含代码补全，高亮，编译等功能。")]),a._v(" "),t("h4",{attrs:{id:"vi和vim的三种模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vi和vim的三种模式"}},[a._v("#")]),a._v(" vi和vim的三种模式")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("正常模式：使用vi/vim打开一个文件就进入了正常模式，这个模式中可以使用各种快捷键")]),a._v(" "),t("p",[a._v("常用命令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yy 复制当前行 \np 粘贴当前剪切板的内容到当前行\n5yy 复制当前行开始的以下5行\ndd 删除当前行\n5dd 删除当前行开始的以下5行\n/hello 查找hello字符 需按回车\nn 查找当前已经被查找的字符的下一个 \nG 去文本末尾\ngg 去文本开头\nu 撤销\n5 + shift + g 去第五行\n")])])])]),a._v(" "),t("li",[t("p",[a._v("插入模式/编辑模式：在这个模式下可以编辑文本文件，使用i、o、a、r(不区分大小写)等任何一个按键均可进入编辑模式")])]),a._v(" "),t("li",[t("p",[a._v("命令行模式：在正常模式下输入"),t("code",[a._v(":")]),a._v("即可进入命令行模式，此模式下可以使用各种内置的指令来完成读取，保存，退出、显示行号等。")]),a._v(" "),t("p",[a._v("常用命令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(":w 写入\n:q 退出\n:q! 强制退出\n:set nu 设置行号\n:set nonu 取消行号\n")])])])]),a._v(" "),t("li",[t("p",[a._v("在插入模式和命令行模式均可使用"),t("code",[a._v("ESC")]),a._v("进入到正常模式")])])]),a._v(" "),t("h3",{attrs:{id:"linux关机-重启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux关机-重启"}},[a._v("#")]),a._v(" linux关机，重启")]),a._v(" "),t("ul",[t("li",[t("p",[t("code",[a._v("shutdown")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("shutdown -h now 立即关机\n\nshutdown -h 1 一分钟后关机\n\nshutdown -r now 立即重启\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("halt")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("halt 立即关机\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("reboot")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("reboot 立即重启\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("sync")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sync 把内存的数据同步到磁盘\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("logout")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("logout 注销\n\n图形界面下无效\n")])])])])]),a._v(" "),t("h3",{attrs:{id:"用户管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户管理"}},[a._v("#")]),a._v(" 用户管理")]),a._v(" "),t("p",[a._v("linux是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统")]),a._v(" "),t("p",[a._v("linux的用户需要至少要属于一个组")]),a._v(" "),t("h4",{attrs:{id:"添加用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加用户"}},[a._v("#")]),a._v(" 添加用户")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("useradd [options] 用户名\n\n当用户创建成功后，会自动的创建和用户名同名的home目录\n也可以通过\nuseradd -d 指定目录 用户名 \n指定home目录\n\nuseradd -g 用户组 用户名\n")])])]),t("h4",{attrs:{id:"更改用户密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更改用户密码"}},[a._v("#")]),a._v(" 更改用户密码")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("passwd 用户名\n")])])]),t("h4",{attrs:{id:"删除用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[a._v("#")]),a._v(" 删除用户")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("userdel 用户名\n\n保留/home目录\n\nuserdel -r 用户名\n不保留/home目录\n")])])]),t("h4",{attrs:{id:"查询用户信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询用户信息"}},[a._v("#")]),a._v(" 查询用户信息")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("id 用户名\n")])])]),t("h4",{attrs:{id:"切换用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#切换用户"}},[a._v("#")]),a._v(" 切换用户")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("su - 用户名\n\n权限低的用户切换到权限高的用户时需要密码\n当需要返回原来的用户时可使用exit命令\n")])])]),t("h4",{attrs:{id:"用户组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户组"}},[a._v("#")]),a._v(" 用户组")]),a._v(" "),t("p",[a._v("类似于角色，系统可以对有共性的多个用户进行统一的管理")]),a._v(" "),t("p",[a._v("创建组")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("groupadd 组名\n")])])]),t("p",[a._v("删除组")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("groupdel 组名\n")])])]),t("p",[a._v("修改用户归属的组")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("usermod -g 用户组 用户名\n")])])]),t("p",[a._v("用户信息的配置文件放在"),t("code",[a._v("/etc/passwd")]),a._v("文件中")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("用户名:口令:用户标识号:组标识号:注释性描述:主目录:登陆Shell")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("root:x:0:0:root:/root:/bin/bash\n")])])])])]),a._v(" "),t("p",[a._v("组的配置文件放在"),t("code",[a._v("/etc/group")]),a._v("文件中")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("组名:口令:组标识号:组内用户列表")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("root:x:0:\n")])])])])]),a._v(" "),t("p",[a._v("口令配置文件(密码和登陆信息，加密)"),t("code",[a._v("/etc/shadow")])]),a._v(" "),t("ul",[t("li",[t("p",[a._v("登陆名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标签")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("root:$6$MSxoKOkJeNBEq4WQ$yGQUQv.eSUDgJb4iPu0EOJUFY5VYIe2BDV9ZPIViWxVYjoTFjXl0L/ayhNOVVm2JWx05m7T/gfNBfGgy9Ic/W/::0:99999:7:::\n")])])])])]),a._v(" "),t("h3",{attrs:{id:"linux基础指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux基础指令"}},[a._v("#")]),a._v(" linux基础指令")]),a._v(" "),t("h4",{attrs:{id:"指定运行级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指定运行级别"}},[a._v("#")]),a._v(" 指定运行级别")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("0")]),a._v("关机")]),a._v(" "),t("li",[t("code",[a._v("1")]),a._v("单用户，找回丢失的用户密码")]),a._v(" "),t("li",[t("code",[a._v("2")]),a._v("多用户无网络服务")]),a._v(" "),t("li",[t("code",[a._v("3")]),a._v("多用户有网络服务")]),a._v(" "),t("li",[t("code",[a._v("4")]),a._v("保留")]),a._v(" "),t("li",[t("code",[a._v("5")]),a._v("图形界面")]),a._v(" "),t("li",[t("code",[a._v("6")]),a._v("重启")])]),a._v(" "),t("p",[a._v("切换到指定运行级别的指令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("init 级别\n")])])]),t("p",[a._v("查看当前运行级别")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("who -r\n")])])]),t("p",[a._v("系统的运行级别配置文件在"),t("code",[a._v("/etc/inittab")])]),a._v(" "),t("p",[a._v("找回密码")]),a._v(" "),t("p",[a._v("进入到单用户模式，然后修改用户密码。进入单用户模式不需要密码")]),a._v(" "),t("h4",{attrs:{id:"帮助指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#帮助指令"}},[a._v("#")]),a._v(" 帮助指令")]),a._v(" "),t("ul",[t("li",[t("p",[t("code",[a._v("man")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("man [命令或配置文件] \n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("help")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("help [命令]\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"文件目录类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件目录类"}},[a._v("#")]),a._v(" 文件目录类")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("显示当前工作目录的绝对路径")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("pwd\n")])])])]),a._v(" "),t("li",[t("p",[a._v("查看当前目录的结构")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ls [options] [目录或是文件]\n\n-a 显示当前目录所有的文件和目录，包括隐藏的\n-l 以列表的形式显示信息\n")])])])]),a._v(" "),t("li",[t("p",[a._v("切换目录")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cd [参数]\n\ncd ~ 或 cd : 回到home目录\ncd.. 回到当前目录的上一级目录 centos8不能使用\n")])])])]),a._v(" "),t("li",[t("p",[a._v("创建目录")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("mkdir [options] 要创建的目录\n\n-p 创建多级目录\n")])])])]),a._v(" "),t("li",[t("p",[a._v("删除目录")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rmdir [options] 要删除的空目录\n\n只能删除空目录\n-rf 删除非空目录\n")])])])]),a._v(" "),t("li",[t("p",[a._v("创建文件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("touch 文件名称\n\n可以一次创建多个文件\n")])])])]),a._v(" "),t("li",[t("p",[a._v("拷贝")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cp [options] 源目录 目标目录\n\n-r 递归复制整个目录\n\n\\cp [options] 源目录 目标目录\n强制覆盖\n")])])])]),a._v(" "),t("li",[t("p",[a._v("删除指令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rm [options] 要删除的目录或文件\n\n-r 递归删除整个文件夹\n-f 强制删除不提示\n")])])])]),a._v(" "),t("li",[t("p",[a._v("移动或重命名指令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("mv oldfilename newfilename\n\nmv 源目录 目标目录 \n")])])])]),a._v(" "),t("li",[t("p",[a._v("查看文件内容")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cat [options] 文件名\n\n-n 显示行号\ncat [options] 文件名 | more\n文件分页显示\ncat 只能浏览不能修改\n")])])])]),a._v(" "),t("li",[t("p",[a._v("按页显示文章的内容")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("more 文件名\n")])])]),t("table",[t("thead",[t("tr",[t("th",[a._v("操作")]),a._v(" "),t("th",[a._v("功能说明")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("空格键")]),a._v(" "),t("td",[a._v("下一页")])]),a._v(" "),t("tr",[t("td",[a._v("Enter")]),a._v(" "),t("td",[a._v("下一行")])]),a._v(" "),t("tr",[t("td",[a._v("q")]),a._v(" "),t("td",[a._v("离开more，不再显示文件内容")])]),a._v(" "),t("tr",[t("td",[a._v("Ctrl+F")]),a._v(" "),t("td",[a._v("向下滚动一屏")])]),a._v(" "),t("tr",[t("td",[a._v("Ctrl+B")]),a._v(" "),t("td",[a._v("返回上一屏")])]),a._v(" "),t("tr",[t("td",[a._v("=")]),a._v(" "),t("td",[a._v("输出当前的行号")])]),a._v(" "),t("tr",[t("td",[a._v(":f")]),a._v(" "),t("td",[a._v("输出文件名和当前行的行号")])])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("less 文件名\n功能类似于more，less指令在显示文件时，并不是一次将整个文件加载之后才显示，而是根据显示需要按需加载\n")])])])]),a._v(" "),t("li",[t("p",[a._v("输出重定向和追加")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('> 重定向\n>> 追加\n\nls -l > 文件名 列表内容写入到文件中\nls -al >> 文件名 列表的内容追加到文件的末尾\ncat 文件1 > 文件2 文件1的内容覆盖文件2的内容\necho "内容" >> 文件名 \n')])])])]),a._v(" "),t("li",[t("p",[a._v("输出内容到控制台")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("echo [options] [输出内容]\n\necho $PATH 输出当前环境变量\n")])])])]),a._v(" "),t("li",[t("p",[a._v("显示文件开头的部分，默认前十行")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("head 文件      查看文件的前十行\nhead -n 5 文件 查看文件的前5行\n")])])])]),a._v(" "),t("li",[t("p",[a._v("显示文件结尾的部分，默认末尾十行")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("tail 文件         查看文件后十行的内容\ntail -n 5 文件名  查看文件后5行的内容\ntail -f 文件 \t\t实时追踪该文档的所有更新\n")])])])]),a._v(" "),t("li",[t("p",[a._v("软链接或者符号链接，类似于windows里的快捷方式，主要存放了链接其他文件的路径")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ln -s [源文件目录] [软链接名]\n")])])])]),a._v(" "),t("li",[t("p",[a._v("删除软链接")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rm -rf 软链接的名称\n")])])])]),a._v(" "),t("li",[t("p",[a._v("查看执行历史指令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("history    显示所有执行过的指令\nhistory 10 显示后十条\n!10  \t\t执行历史记录中第十条指令\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"时间日期类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#时间日期类"}},[a._v("#")]),a._v(" 时间日期类")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("显示当前日期")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('date \t\t显示当前时间\ndate +%Y    显示当前年份\ndate +%m  \t显示当前月份\ndate +%d    显示当前月份的哪一天\ndate +"%Y-%m-%d %H:%M:%S"  日期格式化\n')])])])]),a._v(" "),t("li",[t("p",[a._v("设置日期")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("date -s 字符串时间\n")])])])]),a._v(" "),t("li",[t("p",[a._v("查看日历")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cal [options]\n\ncal \t 显示当前月份的日历\ncal 2020 显示2020一整年的日历\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"搜索查找类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#搜索查找类"}},[a._v("#")]),a._v(" 搜索查找类")]),a._v(" "),t("ul",[t("li",[t("p",[t("code",[a._v("find")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("find [搜索范围] [options]\n\n-name<查询方式>  按照指定的文件名查找模式查找文件\nfind / -name *.txt 查找根目录下所有以.txt结尾的文件\n\n-user<用户名>\t  查找属于指定用户名所有文件\n\n\n-size<大小>\t   按照指定文件大小查找文件\n-size +20M 大于20M\n-size -20M 小于20M\n-size 20M  等于20M\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("locate")]),a._v(" 基于locate文件数据库查找文件，使用之前如果没有locate文件数据库则需要先创建")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("updatedb\t创建或者更新locate文件数据库\n\nlcoate test.txt  查找test.txt文件\n")])])])]),a._v(" "),t("li",[t("p",[a._v("过滤查找，通过"),t("code",[a._v("grep")]),a._v("和"),t("code",[a._v("|")]),a._v("搭配使用")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("|\t表示将前一个命令的处理结果输出传递给后面的命令处理\ngrep [options] 查找内容 源文件\n\n-n 显示匹配行及行号\n-i 忽略字母大小写\n\ncat test.txt  | grep yes \t查找yes\ncat test.txt  | grep -n yes 显示行号\ncat test.txt  | grep -ni yes 显示行号且不区分大小写\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"压缩和解压缩"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#压缩和解压缩"}},[a._v("#")]),a._v(" 压缩和解压缩")]),a._v(" "),t("ul",[t("li",[t("p",[t("code",[a._v("gzip/gunzip")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("gzip 文件  将文件压缩为*.gz文件且删除源文件\ngunzip *.gz 将文件解压\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("zip/unzip")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("zip [options] xxx.zip 源文件\t 将源文件压缩成xxx.zip\n-r 对目录下所有文件压缩\n\nunzip [options] xxx.zip        解压\n-d 指定解压目录\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("tar")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("tar [options] xxx.tar.gz\n\nar -zcvf mytest.tar.gz /test/ \t打包压缩test文件下的所有文件\ntar -zxvf mytest.tar.gz -C /test/hello/  解压到指定目录\n")])])]),t("table",[t("thead",[t("tr",[t("th",[a._v("options")]),a._v(" "),t("th",[a._v("功能")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("-c")]),a._v(" "),t("td",[a._v("产生.tar打包文件")])]),a._v(" "),t("tr",[t("td",[a._v("-v")]),a._v(" "),t("td",[a._v("显示详细信息")])]),a._v(" "),t("tr",[t("td",[a._v("-f")]),a._v(" "),t("td",[a._v("指定压缩后的文件名")])]),a._v(" "),t("tr",[t("td",[a._v("-z")]),a._v(" "),t("td",[a._v("打包同时压缩")])]),a._v(" "),t("tr",[t("td",[a._v("-x")]),a._v(" "),t("td",[a._v("解包.tar文件")])])])])])]),a._v(" "),t("h3",{attrs:{id:"组管理和权限管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组管理和权限管理"}},[a._v("#")]),a._v(" 组管理和权限管理")]),a._v(" "),t("h4",{attrs:{id:"linux组的基本介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux组的基本介绍"}},[a._v("#")]),a._v(" Linux组的基本介绍")]),a._v(" "),t("p",[a._v("在linux中的每个用户必须属于一个组，不能独立于组外。linux中每个文件有所有者、所在组、其他组的概念")]),a._v(" "),t("ul",[t("li",[a._v("所有者")]),a._v(" "),t("li",[a._v("所在组")]),a._v(" "),t("li",[a._v("其他组")])]),a._v(" "),t("h4",{attrs:{id:"文件-目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件-目录"}},[a._v("#")]),a._v(" 文件/目录")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("所有者：一般为文件的创建者，谁创建了该文件，就自然的成为该文件的所有者。")])]),a._v(" "),t("li",[t("p",[a._v("查看文件的所有者")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ls -ahl\n")])])])]),a._v(" "),t("li",[t("p",[a._v("修改文件/目录的所有者")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("chown 用户名 文件名\n\nchown -R 用户名 目录\n改变目录下的所有文件/目录的拥有者\n")])])])]),a._v(" "),t("li",[t("p",[a._v("修改文件所在组")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("chgrp 组名 文件名\n\nchgrp -R 用户名 目录\n改变目录下的所有文件/目录的所在组\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"文件权限管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件权限管理"}},[a._v("#")]),a._v(" 文件权限管理")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("文件详情")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-rw-r--r--. 1 root root 0 5月   2 07:37 test.txt\n\n-\n文件类型\n\n- 普通文件\nd 文件目录\nl 软链接文件\nc 字符设备[键盘，鼠标]\nb 块文件[硬盘]\n\nrw-\n文件所有者的权限\nr 读\nw 写\n\nr--\n文件所在组的用户的权限\nr 读\n\nr--\n文件的其他组的用户的权限\nr 读\n\n1\n文件表示硬链接，目录则表示该目录的子目录的个数\n\nroot 文件的所有者\n\nroot 文件的所在组\n\n0 文件的大小/目录则是4096\n\n5月   2 07:37\n文件最后的修改时间\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("rwx")]),a._v(" 权限")]),a._v(" "),t("p",[a._v("作用到文件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("r 可读\nw 可写，不一定可删除，删除一个文件的前提条件是对该文件所在目录有写的权限\nx 可执行\n")])])]),t("p",[a._v("作用到目录")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("r 可以查看目录内容\nw 可修改，目录内创建、删除、重名名\nx 可以进入该目录\n")])])]),t("p",[a._v("可用数字来表示")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("r=4，w=2，x=1\n")])])])]),a._v(" "),t("li",[t("p",[a._v("修改文件/目录权限")]),a._v(" "),t("p",[t("code",[a._v("+")]),a._v("、"),t("code",[a._v("-")]),a._v("、"),t("code",[a._v("=")]),a._v("变更权限 "),t("code",[a._v("u")]),a._v("所有者、"),t("code",[a._v("g")]),a._v("所在组、"),t("code",[a._v("o")]),a._v("其他人、"),t("code",[a._v("a")]),a._v("所有人")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("chmod u=rwx,g=rx,o=x 文件目录名 \nchmod o+w 文件目录名              其他人添加写的权限\nchmod a-x 文件目录名\t\t\t\t 所有人去除可执行/进入的权限\n")])])]),t("p",[a._v("通过数字变更权限")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("chmod 751 文件目录名\n")])])])])]),a._v(" "),t("h3",{attrs:{id:"任务调度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#任务调度"}},[a._v("#")]),a._v(" 任务调度")]),a._v(" "),t("p",[a._v("指系统在某个时间⏰执行特定的命令或程序")]),a._v(" "),t("p",[a._v("简单的任务可直接在crontab中直接加入即可，复杂的任务需要写"),t("code",[a._v("shell")]),a._v("脚本处理")]),a._v(" "),t("ul",[t("li",[t("p",[t("code",[a._v("crond")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("crontab [options]  \n")])])]),t("table",[t("thead",[t("tr",[t("th",[a._v("options")]),a._v(" "),t("th",[a._v("功能")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("-e")]),a._v(" "),t("td",[a._v("编辑crontab定时任务")])]),a._v(" "),t("tr",[t("td",[a._v("-l")]),a._v(" "),t("td",[a._v("查询crontab定时任务")])]),a._v(" "),t("tr",[t("td",[a._v("-r")]),a._v(" "),t("td",[a._v("删除当前用户所有的crontab任务")])])])]),a._v(" "),t("p",[a._v("案例：")]),a._v(" "),t("p",[a._v("每小时的每一分钟执行 "),t("code",[a._v("ls -l /etc/ >> /tmp/ok.txt")])]),a._v(" "),t("p",[a._v("调度文件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("*/1 * * * * ls -l /etc >> /tmp/to.txt\n")])])]),t("p",[a._v("占位符")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("项目")]),a._v(" "),t("th",[a._v("含义")]),a._v(" "),t("th",[a._v("范围")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("第一个 *")]),a._v(" "),t("td",[a._v("一小时当中的第几分钟")]),a._v(" "),t("td",[a._v("0-59")])]),a._v(" "),t("tr",[t("td",[a._v("第二个 *")]),a._v(" "),t("td",[a._v("一天中的第几个小时")]),a._v(" "),t("td",[a._v("0-23")])]),a._v(" "),t("tr",[t("td",[a._v("第三个 *")]),a._v(" "),t("td",[a._v("一个月中的第几天")]),a._v(" "),t("td",[a._v("1-31")])]),a._v(" "),t("tr",[t("td",[a._v("第四个 *")]),a._v(" "),t("td",[a._v("一年当中的第几个月")]),a._v(" "),t("td",[a._v("1-12")])]),a._v(" "),t("tr",[t("td",[a._v("第五个 *")]),a._v(" "),t("td",[a._v("一周当中的星期几")]),a._v(" "),t("td",[a._v("0-7(0/7都代表星期日)")])])])]),a._v(" "),t("p",[a._v("特殊符号")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("特殊符号")]),a._v(" "),t("th",[a._v("含义")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("*")]),a._v(" "),t("td",[a._v("代表任何时间。比如第一个*就代表一小时每分钟都执行一次")])]),a._v(" "),t("tr",[t("td",[a._v(",")]),a._v(" "),t("td",[a._v("代表不连续的时间。比如“0 8,12,16 * * * 命令” 就代表在每天的8点0分，12点0分，16点0分都执行一次")])]),a._v(" "),t("tr",[t("td",[a._v("-")]),a._v(" "),t("td",[a._v('代表连续的时间范围。比如"0 5 * * 1-6 命令"，代表在周一到周六的凌晨5点零分执行命令')])]),a._v(" "),t("tr",[t("td",[a._v("*/n")]),a._v(" "),t("td",[a._v('代表每隔多久执行一次。比如"*/10 * * * * 命令"，代表每隔十分钟就执行一次命令')])])])])]),a._v(" "),t("li",[t("p",[a._v("简单"),t("code",[a._v("shell")]),a._v("脚本的编写")]),a._v(" "),t("p",[a._v("新建一个"),t("code",[a._v("*.sh")]),a._v("文件")]),a._v(" "),t("p",[a._v("编写指令"),t("code",[a._v("date >> /tmp/mydate")])]),a._v(" "),t("p",[t("code",[a._v("*.sh")]),a._v("赋予可执行的权限")]),a._v(" "),t("p",[t("code",[a._v("crontab -e")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("*/1 * * * * *.sh\n")])])])])]),a._v(" "),t("h3",{attrs:{id:"磁盘分区、挂载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#磁盘分区、挂载"}},[a._v("#")]),a._v(" 磁盘分区、挂载")]),a._v(" "),t("h4",{attrs:{id:"分区的基础知识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分区的基础知识"}},[a._v("#")]),a._v(" 分区的基础知识")]),a._v(" "),t("ul",[t("li",[t("p",[t("code",[a._v("mbr")]),a._v("分区")]),a._v(" "),t("p",[a._v("最多支持四个主分区")]),a._v(" "),t("p",[a._v("系统只能安装在主分区")]),a._v(" "),t("p",[a._v("扩展分区要占一个主分区")]),a._v(" "),t("p",[t("code",[a._v("mbr")]),a._v("最大支持2TB，但拥有好的兼容性")])]),a._v(" "),t("li",[t("p",[t("code",[a._v("gtp")]),a._v("分区")]),a._v(" "),t("p",[a._v("支持无限多个主分区")]),a._v(" "),t("p",[a._v("最大支持18EB的容量，操作系统会限制分区数量，windows最多128个分区")]),a._v(" "),t("p",[a._v("win7 64位以后支持gtp")])])]),a._v(" "),t("h4",{attrs:{id:"linux分区原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux分区原理"}},[a._v("#")]),a._v(" Linux分区原理")]),a._v(" "),t("p",[a._v("Linux来说无论有几个分区，分给哪一目录使用，它归根结底就只有一个根目录，一个独立且唯一的文件结构，Linux中每个分区都是用来组成整个文件系统的一部分")]),a._v(" "),t("p",[a._v('Linux采用了一种"载入"的处理方法，它的整个文件系统中包含了一整套的文件和目录，且将一个分区和一个目录联系起来。这是要载入的一个分区使它的存储空间在一个目录下获得')]),a._v(" "),t("h4",{attrs:{id:"linux硬盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux硬盘"}},[a._v("#")]),a._v(" Linux硬盘")]),a._v(" "),t("p",[a._v("Linux硬盘分"),t("code",[a._v("IDE")]),a._v("硬盘和"),t("code",[a._v("SCSI")]),a._v("硬盘，目前基本上都是"),t("code",[a._v("SCSI")]),a._v("硬盘")]),a._v(" "),t("p",[a._v("对于IDE硬盘，驱动器标识符位"),t("code",[a._v("hdx~")]),a._v("其中"),t("code",[a._v("hd")]),a._v("表明分区所在设备的类型，这里是指"),t("code",[a._v("IDE")]),a._v("硬盘。"),t("code",[a._v("x")]),a._v("为盘号("),t("code",[a._v("a")]),a._v("为基本盘、"),t("code",[a._v("b")]),a._v("为基本从属盘、"),t("code",[a._v("c")]),a._v("为辅助主盘、"),t("code",[a._v("d")]),a._v("为辅助从属盘)，"),t("code",[a._v("~")]),a._v("代表分区，前四个分区用数字1到4标识，他们是主分区或扩展分区，从5开始就是逻辑分区。"),t("code",[a._v("hda3")]),a._v("标识为第一个"),t("code",[a._v("IDE")]),a._v("硬盘上的第三个主分区或扩展分区，"),t("code",[a._v("hdb2")]),a._v("表示为第二个"),t("code",[a._v("IDE")]),a._v("硬盘上的第二个主分区或扩展分区。")]),a._v(" "),t("p",[a._v("对于"),t("code",[a._v("SCSI")]),a._v("硬盘则标识为"),t("code",[a._v("sdx~")]),a._v("，"),t("code",[a._v("SSCI")]),a._v("硬盘是用"),t("code",[a._v("sd")]),a._v("来表示分区所在设备的类型的，其余则和"),t("code",[a._v("IDE")]),a._v("硬盘的表示方法一样。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("lsblk -f \t\t查看磁盘分区和挂载情况\n")])])]),t("h4",{attrs:{id:"增加一块硬盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加一块硬盘"}},[a._v("#")]),a._v(" 增加一块硬盘")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("虚拟机添加硬盘")])]),a._v(" "),t("li",[t("p",[a._v("分区 "),t("code",[a._v("fdisk /dev/sdb")])])]),a._v(" "),t("li",[t("p",[a._v("格式化 "),t("code",[a._v("mkfs -t ext4 /dev/sdb1")])])]),a._v(" "),t("li",[t("p",[a._v("挂载 "),t("code",[a._v("mount /dev/sdb1 /home/newdisk")]),a._v(" 设备重启后挂载关系会丢失")])]),a._v(" "),t("li",[t("p",[a._v("设置自动挂载")]),a._v(" "),t("p",[a._v("编辑 "),t("code",[a._v("etc/fstab")]),a._v("添加")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("/dev/sdb1               /home/newdisk           ext4    defaults        0 0\n")])])]),t("p",[a._v("退回终端执行")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("mount -a\n")])])])]),a._v(" "),t("li",[t("p",[a._v("卸载磁盘")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("umount /home/newdisk\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"磁盘情况查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#磁盘情况查询"}},[a._v("#")]),a._v(" 磁盘情况查询")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("查询系统磁盘整体使用情况")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("df -lh\n")])])])]),a._v(" "),t("li",[t("p",[a._v("查询指定目录的磁盘占用情况")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("du -h /目录\n\n-s 指定目录占用大小汇总\n-h 带计量单位\n-a 含文件\n--max-depth=1 目录深度\n-c 列出明细的同时，增加汇总值\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"实用指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实用指令"}},[a._v("#")]),a._v(" 实用指令")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("统计 /home文件夹下文件的个数")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('ls -l /home | grep "^-" | wc -l\n')])])])]),a._v(" "),t("li",[t("p",[a._v("统计 /home文件夹下目录的个数")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('ls -l /home | grep "^d" | wc -l\n')])])])]),a._v(" "),t("li",[t("p",[a._v("统计 /home文件夹下文件的个数，包括子文件夹里的")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('ls -lR /home | grep "^-" | wc -l\n')])])])]),a._v(" "),t("li",[t("p",[a._v("统计 /home文件夹下目录的个数，包括子文件夹里的")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('ls -lR /home | grep "^d" | wc -l\n')])])])]),a._v(" "),t("li",[t("p",[a._v("树状显示目录结构")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("tree\n\n如果没有此指令使用\nyum install tree 安装即可\n")])])])])]),a._v(" "),t("h3",{attrs:{id:"linux网络配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux网络配置"}},[a._v("#")]),a._v(" Linux网络配置")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("通过界面自动获取ip，缺点是每次获取的ip可能会不一样")])]),a._v(" "),t("li",[t("p",[a._v("指定固定的ip，直接修改配置文件指定固定ip")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("/etc/sysconfig/network-scripts/ifcfg-eth0\n")])])]),t("p",[t("code",[a._v("centos8")]),a._v("文件名为"),t("code",[a._v("ifcfg-配置_1")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("TYPE=Ethernet\nPROXY_METHOD=none\nBROWSER_ONLY=no\nBOOTPROTO=dhcp   //改为static\nDEFROUTE=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_FAILURE_FATAL=no\nIPV6_ADDR_GEN_MODE=stable-privacy\nNAME=$'\\751\\605\\615\\747\\675\\656 1'\nUUID=1555224a-2a47-4de0-a0fe-4194449092de\nONBOOT=yes    //yes\n\n// 新增\nIPADDR=192.168.44.33   //ip\nGATEWAY=192.168.44.2   //网关\nDNS1=192.168.44.2\t\t//保持和网关一致\n")])])]),t("p",[a._v("修改后重启机器")])])]),a._v(" "),t("h3",{attrs:{id:"linux进程管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux进程管理"}},[a._v("#")]),a._v(" Linux进程管理")]),a._v(" "),t("h4",{attrs:{id:"基本介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本介绍"}},[a._v("#")]),a._v(" 基本介绍")]),a._v(" "),t("ol",[t("li",[a._v("在Linux中，每个执行的程序(代码)都称为一个进程。每一个进程都分配一个ID号")]),a._v(" "),t("li",[a._v("每一个进程，都会对应一个父进程，而这个父进程可以复制多个子进程。例如www服务器")]),a._v(" "),t("li",[a._v("每个进程都可能以两种方式存在。"),t("strong",[a._v("前台")]),a._v("与"),t("strong",[a._v("后台")]),a._v("，所谓前台进程就是用户目前的屏幕上可以进行操作的。后台进程则是实际在操作，但由于屏幕上无法看到的进程，通常使用后台的方式执行，后台进程又叫做"),t("strong",[a._v("守护进程")])]),a._v(" "),t("li",[a._v("一般系统的服务都是以后台进程的方式存在，而且都会常驻在系统中。直到关机才结束")])]),a._v(" "),t("h4",{attrs:{id:"查看系统进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看系统进程"}},[a._v("#")]),a._v(" 查看系统进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ps [options]\n\n-a 显示当前终端的所有进程信息\n-u 以用户的格式显示进程信息\n-x 显示后台进程运行的参数\n-ef 显示父进程\n\npstree 以树状的方式查看进程\n")])])]),t("p",[a._v("ps命令显示的信息")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("字段")]),a._v(" "),t("th",[a._v("说明")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("USER")]),a._v(" "),t("td",[a._v("执行进程的用户")])]),a._v(" "),t("tr",[t("td",[a._v("PID")]),a._v(" "),t("td",[a._v("进程识别号")])]),a._v(" "),t("tr",[t("td",[a._v("PPID")]),a._v(" "),t("td",[a._v("当前进程的父进程的进程号")])]),a._v(" "),t("tr",[t("td",[a._v("%CPU")]),a._v(" "),t("td",[a._v("当前进程占用CPU的情况")])]),a._v(" "),t("tr",[t("td",[a._v("%MEM")]),a._v(" "),t("td",[a._v("当前进程占用内存的情况")])]),a._v(" "),t("tr",[t("td",[a._v("VSZ")]),a._v(" "),t("td",[a._v("当前进程占用的虚拟内存情况")])]),a._v(" "),t("tr",[t("td",[a._v("RSS")]),a._v(" "),t("td",[a._v("当前进程占用物理内存的情况")])]),a._v(" "),t("tr",[t("td",[a._v("TTY")]),a._v(" "),t("td",[a._v("当前进程使用的终端")])]),a._v(" "),t("tr",[t("td",[a._v("STAT")]),a._v(" "),t("td",[a._v("当前进程的状态  S 休眠 R运行 D短期等待 Z僵尸进程")])]),a._v(" "),t("tr",[t("td",[a._v("START")]),a._v(" "),t("td",[a._v("当前进程的启动时间")])]),a._v(" "),t("tr",[t("td",[a._v("TIME")]),a._v(" "),t("td",[a._v("此进程所消CPU总时间")])]),a._v(" "),t("tr",[t("td",[a._v("COMMAND")]),a._v(" "),t("td",[a._v("调用此进程时的命令和参数")])])])]),a._v(" "),t("h4",{attrs:{id:"终止进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#终止进程"}},[a._v("#")]),a._v(" 终止进程")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("通过进程号杀死进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("kill [options] 进程号\n\n-9 强迫进程立即停止\n")])])])]),a._v(" "),t("li",[t("p",[a._v("通过进程名称杀死进程，支持通配符")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("killall 进程名称\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"服务管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务管理"}},[a._v("#")]),a._v(" 服务管理")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("systemctl [start|stop|restart|reload|status] 服务名")]),a._v(" "),t("p",[a._v("开启防火墙")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("systemctl start firewalld\n")])])]),t("p",[a._v("查看防火墙状态")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("systemctl status firewalld\n")])])]),t("p",[a._v("关闭防火墙")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("systemctl stop firewalld\n")])])]),t("p",[a._v("windows下查看哪个端口是否开放")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("telnet ip 端口号\n")])])]),t("p",[a._v("列出所有服务")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("systemctl list-unit-files\n")])])])]),a._v(" "),t("li",[t("p",[a._v("服务的运行级别和开机的运行级别相同 "),t("code",[a._v("centos6")])]),a._v(" "),t("p",[t("code",[a._v("chkconfig")]),a._v("可以给每个服务的各个运行级别设置自启动/关闭")]),a._v(" "),t("p",[a._v("查看服务")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("chkconfig --list\n")])])]),t("p",[a._v("查看某个服务")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("chkconfig 服务名 --list\n")])])]),t("p",[a._v("设置运行级别")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("chkconfig --level 5 服务名 on/off\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"监控指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#监控指令"}},[a._v("#")]),a._v(" 监控指令")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("动态监控进程")]),a._v(" "),t("p",[t("code",[a._v("top")]),a._v("与"),t("code",[a._v("ps")]),a._v("相似，它们都用来显示正在执行的进程。top与ps最大的不同之处，在于top在执行一段时间后可以更新正在运行的进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("top [options]\n")])])]),t("table",[t("thead",[t("tr",[t("th",[a._v("options")]),a._v(" "),t("th",[a._v("功能")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("-d 秒数")]),a._v(" "),t("td",[a._v("指定top指令每个几秒更新，默认是3秒在top命令的交互模式当中可以执行的命令")])]),a._v(" "),t("tr",[t("td",[a._v("-i")]),a._v(" "),t("td",[a._v("使top命令不显示任何闲置或僵死的进程")])]),a._v(" "),t("tr",[t("td",[a._v("-p")]),a._v(" "),t("td",[a._v("通过指定监控进程ID来仅仅监控某个进程的状态")])])])]),a._v(" "),t("p",[a._v("交互操作")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("操作")]),a._v(" "),t("th",[a._v("功能")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("P")]),a._v(" "),t("td",[a._v("以CPU使用率排序")])]),a._v(" "),t("tr",[t("td",[a._v("M")]),a._v(" "),t("td",[a._v("以内存的使用率排序")])]),a._v(" "),t("tr",[t("td",[a._v("N")]),a._v(" "),t("td",[a._v("以PID排序")])]),a._v(" "),t("tr",[t("td",[a._v("q")]),a._v(" "),t("td",[a._v("退出top")])]),a._v(" "),t("tr",[t("td",[a._v("U")]),a._v(" "),t("td",[a._v("指定用户名的进程")])]),a._v(" "),t("tr",[t("td",[a._v("K")]),a._v(" "),t("td",[a._v("kill指定进程ID的进程")])])])])]),a._v(" "),t("li",[t("p",[a._v("查看网络情况")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("netstat [options]\n\n-an 按一定顺序排序列出\n-p 显示哪个进程在调用\n")])])])])]),a._v(" "),t("h3",{attrs:{id:"rpm和yum包管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rpm和yum包管理"}},[a._v("#")]),a._v(" RPM和YUM包管理")]),a._v(" "),t("ul",[t("li",[t("p",[t("code",[a._v("rpm")]),a._v("一种用于互联网下载包的打包及安装工具，它包含在某些Linux发行版中。它生成具有"),t("code",[a._v(".RPM")]),a._v("扩展名的文件。"),t("code",[a._v("RPM")]),a._v("是RedHat Package Manager的缩写。")]),a._v(" "),t("p",[t("code",[a._v("rpm")]),a._v(" 查询指令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rpm -qa | gerp XX\n")])])]),t("p",[a._v("查询结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("firefox-60.5.1-1.el8.x86_64\n\nfirefox 软件名称\n60.5.1-1  软件版本\nel8.x86_64 适用操作系统，表示centos8.X的64位系统\n如果是i686、i386表示32位系统、noarch表示通用\n")])])]),t("p",[a._v("查询软件包的具体信息")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rpm -qi XX\n")])])]),t("p",[a._v("查询软件包的安装位置")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rpm -ql XX\n")])])]),t("p",[a._v("查询某一个目录/文件是属于哪个软件包的")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rpm -qf 文件/目录路径\n")])])]),t("p",[a._v("卸载rpm包")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rpm -e rpm包的名称\n\n如果其他软件包依赖于要删除的软件包则会产生错误信息\n")])])]),t("p",[a._v("强制卸载软件包(不推荐)，")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rpm -e --nodeps 包的名称\n")])])]),t("p",[a._v("安装rpm包")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rpm -ivh RPM包全路径名称\n\n-i 安装\n-v 提示\n-h 进度条\n")])])]),t("p",[a._v("安装步骤")]),a._v(" "),t("ol",[t("li",[a._v("挂载centos的iso镜像，")]),a._v(" "),t("li",[a._v("然后到"),t("code",[a._v("/media/")]),a._v("下去找rpm")]),a._v(" "),t("li",[a._v("安装")])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("yum")]),a._v("包管理")]),a._v(" "),t("p",[t("code",[a._v("yum")]),a._v("是一个Shell前端软件包管理器。基于RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包。")]),a._v(" "),t("p",[a._v("查询"),t("code",[a._v("yum")]),a._v("服务器是否有需要安装的软件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yum list | grep 软件包名\n")])])]),t("p",[a._v("安装指定的"),t("code",[a._v("yum")]),a._v("包")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yum install 软件包名\n")])])])])]),a._v(" "),t("h3",{attrs:{id:"shell编程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell编程"}},[a._v("#")]),a._v(" Shell编程")]),a._v(" "),t("h4",{attrs:{id:"shell是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell是什么"}},[a._v("#")]),a._v(" shell是什么")]),a._v(" "),t("p",[t("code",[a._v("Shell")]),a._v("是一个命令行解释器，它为用户提供了一个向Linux内核发送请求以便运行程序的界面系统级程序，用户可以用Shell来启动、挂起、停止甚至编写一些程序。")]),a._v(" "),t("h4",{attrs:{id:"shell脚本的执行方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell脚本的执行方式"}},[a._v("#")]),a._v(" Shell脚本的执行方式")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("脚本格式要求")]),a._v(" "),t("p",[a._v("脚本以"),t("code",[a._v("#/bin/bash")]),a._v("开头")]),a._v(" "),t("p",[a._v("脚本需要有可执行权限")])]),a._v(" "),t("li",[t("p",[a._v("执行方式")]),a._v(" "),t("p",[a._v("方式1(输入脚本的绝对路径或相对路径)")]),a._v(" "),t("ol",[t("li",[a._v("首先要赋予"),t("code",[a._v("XX.sh")]),a._v("脚本的"),t("code",[a._v("+x")]),a._v("权限")]),a._v(" "),t("li",[a._v("执行脚本")])]),a._v(" "),t("p",[a._v("方式2(sh+脚本)")]),a._v(" "),t("p",[a._v("​\t不用赋予脚本"),t("code",[a._v("+x")]),a._v("权限，直接执行即可")])]),a._v(" "),t("li",[t("p",[a._v("快速入门(输出Hello World!)")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('#!/bin/bash\necho "Hello World!"\n')])])])]),a._v(" "),t("li",[t("p",[a._v("基本语法")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 单行注释")]),a._v("\n\n:"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n\t多行注释\n\t多行注释\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"shell变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell变量"}},[a._v("#")]),a._v(" shell变量")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("Linux Shell变量分为，系统变量和用户自定义的变量")])]),a._v(" "),t("li",[t("p",[a._v("系统变量："),t("code",[a._v("$HOME")]),a._v("、"),t("code",[a._v("$PWD")]),a._v(" 、"),t("code",[a._v("$SHELL")]),a._v("、"),t("code",[a._v("$USER")]),a._v("等等")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输出系统变量")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"PATH='),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v('"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("显示当前"),t("code",[a._v("shell")]),a._v("中所有的变量："),t("code",[a._v("set")])])])]),a._v(" "),t("h4",{attrs:{id:"shell变量的定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell变量的定义"}},[a._v("#")]),a._v(" shell变量的定义")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("定义变量：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("变量"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("值\n")])])])]),a._v(" "),t("li",[t("p",[a._v("撤销变量")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("unset")]),a._v(" 变量\n")])])])]),a._v(" "),t("li",[t("p",[a._v("声明静态变量")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("readonly")]),a._v(" 变量\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 不能unset")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("案例")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("A")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"A='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$A")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# A=100")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("unset")]),a._v(" A\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"A='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$A")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# A=")]),a._v("\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("readonly")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("A")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("99")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"A='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$A")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# A=99")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("unset")]),a._v(" A\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# A: 无法取消设定: 只读 variable")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"A='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$A")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# A=99")]),a._v("\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"定义变量的规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定义变量的规则"}},[a._v("#")]),a._v(" 定义变量的规则")]),a._v(" "),t("ol",[t("li",[a._v("变量名称可以由字母、数字、下划线组成，但不能以数字开头")]),a._v(" "),t("li",[a._v("等号两边不能有空格")]),a._v(" "),t("li",[a._v("变量名称习惯大写")])]),a._v(" "),t("h4",{attrs:{id:"命令的返回值赋给变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令的返回值赋给变量"}},[a._v("#")]),a._v(" 命令的返回值赋给变量")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("反引号，运行里面的命令，并把结果返回给变量A")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("A")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" -la"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("等价于反引号")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("A")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" -la"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"设置环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置环境变量"}},[a._v("#")]),a._v(" 设置环境变量")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("基本语法")]),a._v(" "),t("p",[a._v("将Shell变量输出为环境变量")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" 变量名"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("变量值\n")])])]),t("p",[a._v("让修改后的配置信息立即生效")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" 配置文件\n")])])]),t("p",[a._v("查询环境变量的值")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" $变量名\n")])])])]),a._v(" "),t("li",[t("p",[a._v("案例")]),a._v(" "),t("p",[a._v("在"),t("code",[a._v("/etc/profile")]),a._v("文件中")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#定义一个自己的环境变量")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TOMCAT_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/opt/tomcat\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" TOMCAT_HOME\n")])])]),t("p",[a._v("让其生效需使用以下指令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("source /etc/profile\n")])])]),t("p",[a._v("之后就可以在其他"),t("code",[a._v("shell")]),a._v("脚本中使用了")])])]),a._v(" "),t("h4",{attrs:{id:"位置参数变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#位置参数变量"}},[a._v("#")]),a._v(" 位置参数变量")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("当我们执行一个shell脚本时，如果希望获取到命令行的参数信息，就可以用到位置参数变量,比如 "),t("code",[a._v("./xxx.sh 200 300")]),a._v("，这就是一个执行shell的命令行，可以在"),t("code",[a._v("xxx.sh")]),a._v("脚本中获取到参数信息")])]),a._v(" "),t("li",[t("p",[a._v("基本语法")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("参数")]),a._v(" "),t("th",[a._v("功能")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("$n")]),a._v(" "),t("td",[a._v("n为数字，$0代表命令本身，$1-$9代表1-9参数，十以上的参数用{}包含 ${10}")])]),a._v(" "),t("tr",[t("td",[a._v("$*")]),a._v(" "),t("td",[a._v("这个变量代表命令行中所有的参数，$*把所有参数看成一个整体")])]),a._v(" "),t("tr",[t("td",[a._v("$@")]),a._v(" "),t("td",[a._v("这个变量也代表命令行中所有的参数，不过$@把每个参数区别对待")])]),a._v(" "),t("tr",[t("td",[a._v("$#")]),a._v(" "),t("td",[a._v("代表命令行中所有的参数的个数")])])])])]),a._v(" "),t("li",[t("p",[a._v("案例")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#!/bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$0")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$2")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$*")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$@")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$#")]),a._v('"')]),a._v("\n\n:"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v(" \n./myshell.sh "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"预定义变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#预定义变量"}},[a._v("#")]),a._v(" 预定义变量")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("就是shell设计者事先定义好的变量，可以在shell脚本中直接使用")])]),a._v(" "),t("li",[t("p",[a._v("基本语法")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("语法")]),a._v(" "),t("th",[a._v("功能")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("$$")]),a._v(" "),t("td",[a._v("当前进程的进程号(PID)")])]),a._v(" "),t("tr",[t("td",[a._v("$!")]),a._v(" "),t("td",[a._v("后台运行的最后一个进程的进程号(PID)")])]),a._v(" "),t("tr",[t("td",[a._v("$?")]),a._v(" "),t("td",[a._v("最后一次执行的命令的返回状态。如果这个变量的值为0，则证明上一个命令正确执行，如果这个数非0(由命令指定数字),则证明上一个指令执行不正确")])])])])]),a._v(" "),t("li",[t("p",[a._v("案例")]),a._v(" "),t("p",[t("code",[a._v("myshell.sh")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"当前的进程号='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$$")]),a._v('"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#后台的方式运行myshell.h")]),a._v("\n\n./myshell2.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"最后的进程号='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$!")]),a._v('"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"返回的状态='),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$?")]),a._v('"')]),a._v("\n")])])]),t("p",[t("code",[a._v("myshell2.sh")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Hello World!"')]),a._v("\n")])])]),t("p",[a._v("结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("当前的进程号=14233\n最后的进程号=14235\n返回的状态=0\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"shell运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell运算符"}},[a._v("#")]),a._v(" Shell运算符")]),a._v(" "),t("ul",[t("li",[t("p",[t("code",[a._v("$((运算式))")]),a._v("或"),t("code",[a._v("$[运算式]")])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("expr m+n")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("+ - \\* / % \n加减乘除取余\n")])])])]),a._v(" "),t("li",[t("p",[a._v("案例")]),a._v(" "),t("p",[a._v("计算"),t("code",[a._v("(2+3)*4")]),a._v("的值")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#!/bin/bash")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$((")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("))")])]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("+3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("*4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#!/bin/bash")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TEMP")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("expr")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" + "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("expr")]),a._v(" $TEMP "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("* "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n")])])]),t("p",[a._v("求出两个位置参数的和")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"条件判断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#条件判断"}},[a._v("#")]),a._v(" 条件判断")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("基本语法")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# condition是条件前后有空格，非空为true")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" condition "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("   \n")])])])]),a._v(" "),t("li",[t("p",[a._v("判断语句")]),a._v(" "),t("p",[a._v("两个整数的比较")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("符号")]),a._v(" "),t("th",[a._v("功能")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("=")]),a._v(" "),t("td",[a._v("字符串比较")])]),a._v(" "),t("tr",[t("td",[a._v("-lt")]),a._v(" "),t("td",[a._v("小于")])]),a._v(" "),t("tr",[t("td",[a._v("-le")]),a._v(" "),t("td",[a._v("小于等于")])]),a._v(" "),t("tr",[t("td",[a._v("-eq")]),a._v(" "),t("td",[a._v("等于")])]),a._v(" "),t("tr",[t("td",[a._v("-gt")]),a._v(" "),t("td",[a._v("大于")])]),a._v(" "),t("tr",[t("td",[a._v("-ge")]),a._v(" "),t("td",[a._v("大于等于")])]),a._v(" "),t("tr",[t("td",[a._v("-ne")]),a._v(" "),t("td",[a._v("不等于")])])])]),a._v(" "),t("p",[a._v("按照文件权限进行判断")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("符号")]),a._v(" "),t("th",[a._v("功能")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("-r")]),a._v(" "),t("td",[a._v("有读的权限")])]),a._v(" "),t("tr",[t("td",[a._v("-w")]),a._v(" "),t("td",[a._v("有写的权限")])]),a._v(" "),t("tr",[t("td",[a._v("-x")]),a._v(" "),t("td",[a._v("有执行的权限")])])])]),a._v(" "),t("p",[a._v("按照文件类型进行判断")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("符号")]),a._v(" "),t("th",[a._v("功能")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("-f")]),a._v(" "),t("td",[a._v("文件存在并且是一个常规的文件")])]),a._v(" "),t("tr",[t("td",[a._v("-e")]),a._v(" "),t("td",[a._v("文件存在")])]),a._v(" "),t("tr",[t("td",[a._v("-d")]),a._v(" "),t("td",[a._v("文件存在并且是一个目录")])])])]),a._v(" "),t("p",[a._v("案例")]),a._v(" "),t("p",[a._v("判断"),t("code",[a._v("ok是否等于ok")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#!/bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ok"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ok"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"相等"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 结果")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 相等")]),a._v("\n")])])]),t("p",[a._v("判断"),t("code",[a._v("/shell/test.txt")]),a._v("是否存在")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" -e /shell/test.txt "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"存在"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"流程控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程控制"}},[a._v("#")]),a._v(" 流程控制")]),a._v(" "),t("ul",[t("li",[t("p",[t("code",[a._v("if")]),a._v("判断")]),a._v(" "),t("p",[a._v("基本语法")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("if [ 条件判断式 ]\nthen \n\t程序\n    elif [ 条件判断式 ]\n    then\n    \t程序\nfi \n")])])]),t("p",[a._v("案例，如果参数大于等于60输出及格否则输出不及格")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v(" -ge "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"及格"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("elif")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v(" -lt "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"不及格"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("case")]),a._v("语句")]),a._v(" "),t("p",[a._v("语法")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("case")]),a._v(" $变量名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"值1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n \t程序\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"值2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n \t程序\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("\n *"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n \t如果变量的值都不是以上的值执行此程序\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("esac")]),a._v("\n")])])]),t("p",[a._v("案例,参数为"),t("code",[a._v("1")]),a._v("输出"),t("code",[a._v("周一")]),a._v("，参数为"),t("code",[a._v("2")]),a._v("输出"),t("code",[a._v("周二")]),a._v("，其他输出"),t("code",[a._v("other")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("case")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"周一"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"周二"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    *"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"other"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("esac")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("for")]),a._v("循环")]),a._v(" "),t("p",[a._v("基本语法1")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" 变量 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" 值1 值2 值3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" \n\t程序\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])])]),t("p",[a._v("案例1，打印命令行输入的参数")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[a._v("i")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$@")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"the num is '),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])])]),t("p",[a._v("基本语法2")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("((")]),a._v("初始值"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("循环控制条件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("变量变化"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("))")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v("\n\t程序\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])])]),t("p",[a._v("案例2，1+...+100 输出显示")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("((")]),a._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("))")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$SUM")]),a._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$SUM")]),a._v('"')]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("while")]),a._v("循环")]),a._v(" "),t("p",[a._v("语法")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("while")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" 条件判断式 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v("\n\t程序\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])])]),t("p",[a._v("案例：从命令行输入一个数n，统计从1+...+n的值是多少")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("i")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("while")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v(" -lt "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("i")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v("+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$SUM")]),a._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$SUM")]),a._v('"')]),a._v("\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"read从控制台读取输入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#read从控制台读取输入"}},[a._v("#")]),a._v(" "),t("code",[a._v("read")]),a._v("从控制台读取输入")]),a._v(" "),t("p",[a._v("语法")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("read [options] 参数\n\n-p 指定读取值时的提示符\n-t 指定读取值时等待的时间(秒)，如果没有在指定的时间内输入，就不等待了\n \n 参数\n 指定读取值的变量名\n")])])]),t("p",[a._v("案例：读取控制台输入的一个num值，10秒内输入")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" -t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"请输入一个数"')]),a._v(" NUM\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"输入的值为 '),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$NUM")]),a._v('"')]),a._v("\n")])])]),t("h4",{attrs:{id:"shell函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell函数"}},[a._v("#")]),a._v(" shell函数")]),a._v(" "),t("p",[a._v("shell编程里面有系统函数和自定义函数之分")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("系统函数")]),a._v(" "),t("p",[t("code",[a._v("basename")]),a._v("返回完整路径中的最后"),t("code",[a._v("/")]),a._v("的部分，常用于获取文件名")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("basename")]),a._v(" 文件路径 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("suffix"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("  \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# suffix为后缀，如果指定后缀，则获取的文件名没有后缀")]),a._v("\n")])])]),t("p",[a._v("案例")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("basename")]),a._v(" /shell/test.txt"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# test.txt")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("basename")]),a._v(" /shell/test.txt .txt"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# test")]),a._v("\n")])])]),t("p",[t("code",[a._v("dirname")]),a._v("返回路径最后"),t("code",[a._v("/")]),a._v("之前的部分，常用于返回路径部分")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("dirname")]),a._v(" 文件绝对路径\n")])])]),t("p",[a._v("案例")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("dirname")]),a._v(" /shell/test.txt"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# /shell")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("自定义函数")]),a._v(" "),t("p",[a._v("语法")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" funname "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    action"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("return int"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("案例：计算输入两个参数的和")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#!bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[a._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SUM")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$n1")]),a._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$n2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"和是 '),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$SUM")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"请输入第一个数n1 "')]),a._v(" n1\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"请输入第二个数n2 "')]),a._v(" n2\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sum")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$n1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$n2")]),a._v("\n")])])])])]),a._v(" "),t("h4",{attrs:{id:"shell编程综合案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell编程综合案例"}},[a._v("#")]),a._v(" shell编程综合案例")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("每天凌晨两点十分备份数据库"),t("code",[a._v("exampleDB")]),a._v("到"),t("code",[a._v("/data/backup/db")])])]),a._v(" "),t("li",[t("p",[a._v("备份开始和备份结束能够给出响应的提示信息")])]),a._v(" "),t("li",[t("p",[a._v("备份后的文件要求以备份时间为文件名，并打包成"),t("code",[a._v(".tar.gz")]),a._v("的形式，比如"),t("code",[a._v("2020-05-03_230201.tar.gz")])])]),a._v(" "),t("li",[t("p",[a._v("在备份的同时，检查是否有十天前备份的数据库文件，如果有就将其删除")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#!/bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#数据库的定时备份")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#备份的路径")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("BACKUP")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/data/backup/db\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#当前的使劲按作为文件名")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DATETIME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("date")]),a._v(" +%Y_%m_%d_%H%M%S"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"========开始备份========"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"备份的路径是  '),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$BACKUP")]),a._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$DATETIME")]),a._v('.tar.gz"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#主机")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HOST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("localhost\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#用户名")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DB_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#密码")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DB_PWD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#数据库的名称")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DATABASE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("exampleDB\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#判断备份的路径是否存在")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$BACKUP")]),a._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$DATETIME")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$BACKUP")]),a._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$DATETIME")]),a._v('"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#进入docker里的mysql容器，本地mysql忽略此步骤docker exec -it 4d6dc427be27")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -i 4d6dc427be27 mysqldump -u"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DB_USER}")]),a._v(" -p"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DB_PWD}")]),a._v(" --host"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${HOST}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATABASE}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("gzip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$BACKUP")]),a._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$DATETIME")]),a._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$DATETIME")]),a._v(".sql.gz\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#打包")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$BACKUP")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zcvf "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$DATETIME")]),a._v(".tar.gz "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$DATETIME")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#删除临时目录")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -rf "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$BACKUP")]),a._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$DATETIME")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#删除10天前的备份文件")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$BACKUP")]),a._v(" -mtime +10 -name "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*.tar.gz"')]),a._v(" -exec "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -rf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"========备份成功========"')]),a._v("\n")])])]),t("p",[t("code",[a._v("crontab -e")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" * * * /shell/mysql_db_backup.sh\n")])])])])])],1)}),[],!1,null,null,null);"function"==typeof n&&n(v);s.default=v.exports}}]);